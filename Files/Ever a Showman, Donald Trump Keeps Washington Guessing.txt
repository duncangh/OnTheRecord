WASHINGTON — The speech was written, the rollout strategy was set. And then President Trump began talking and the plan went out the window. Unless that was the plan all along. When Mr. Trump sat down with television anchors at the White House for an off-the-record lunch on Tuesday, he was supposed to preview his first address to Congress. Instead, he suddenly opened the door to an immigration bill that would potentially let millions of undocumented immigrants stay in the country legally. Such legislation from the "build the wall" president would roil politics in the capital, and Mr. Trump told the anchors that nothing like that was actually in the speech as it was then drafted. But he turned to aides and suggested that maybe they should include it. After the lunch was over, aides rushed off to alert their colleagues, including Stephen K. Bannon and Stephen Miller, the architects of the president’s immigration crackdown. Once again, the unlikeliest of presidents had torn up the script and thrown his young administration into upheaval. Once again, Washington was left trying to fathom what his strategy was. Was it mad genius, an improvisational leader proposing a Nixon-goes-to-China move to overhaul immigration after making a point of deporting "bad hombres"? Or was it simply madness, an undisciplined political amateur unable to resist telling guests what he thinks they want to hear even at the expense of his own political base? In the end, he did not include it in the speech. And yet, rising to the occasion, Mr. Trump on Tuesday night sounded as presidential as he ever has since taking office. He invoked Abraham Lincoln and Dwight D. Eisenhower, heralded Black History Month, condemned anti-Semitic vandalism, celebrated American entrepreneurs like Alexander Graham Bell and Thomas Edison, and promised a "renewal of the American spirit."  He followed the written text on the teleprompters more closely than any major speech of his presidency. Still, the paradox remained. He called for working "past the differences of party," just hours after he called Representative Nancy Pelosi, the House Democratic leader from California, "incompetent."  He declared that "the time for trivial fights is behind us" just weeks after engaging in a public Twitter war with Arnold Schwarzenegger over the ratings for "Celebrity Apprentice."  And then there was that immigration trial balloon. If nothing else, Donald Trump the showman kept the attention right where he wanted it — squarely on himself. By the time he took the rostrum in the House chamber on Tuesday night for the functional equivalent of a State of the Union address, he had generated considerable suspense around what he would actually say and how it would be received. He boasted of deporting "gang members, drug dealers and criminals," saying that "bad ones are going out as I speak."  He introduced guests in the first lady’s box whose families had suffered at the hands of criminals in the country illegally. But he talked about "reforming our system of legal immigration," saying as he has before that the United States should base its admission of foreigners on merit. "I believe that real and positive immigration reform is possible as long as we focus on the following goals," he added, "to improve jobs and wages for Americans, to strengthen our nation’s security and to restore respect for our laws."  Whether this was all an intentional distraction remained unclear by the time he wrapped up and headed back down Pennsylvania Avenue. This is, after all, a White House that revels in what its current occupants refer to as the "head fake," where the president gives the impression of moving one way when he is really moving in a completely different direction, even diverting attention from one controversy by creating another. That leaves allies and adversaries alike scratching their heads about what Mr. Trump really believes. In private discussions since the inauguration, a mystified Senator Mitch McConnell, the Republican majority leader from Kentucky, has said that Mr. Trump appears uncertain of precisely where he stands on a number of critical issues. Thus, aides, activists, lobbyists and lawmakers search for ways to influence a malleable president, who sometimes plays along with his team’s desire to confuse and distract, but who is also prone to spouting out off-the-cuff ideas depending on his audience. Mr. Trump’s advisers have said privately that they wanted this opening speech to Congress to be more optimistic than the address he delivered at his inauguration in January, an 18-minute jeremiad against what he called "American carnage" and the establishment he blamed for it. Mr. Trump’s daughter Ivanka Trump has privately expressed concern about the harsh tone of some of her father’s rhetoric over many months. No president in modern times had shown up for his first speech to Congress with approval ratings so low — just 42 percent in the latest Gallup poll. His 40 days of careening from one crisis to another, many of them self-created, had sowed deep doubts about his leadership not only among Democrats and independents but even among many Republicans. His challenge for this address was to move beyond these moments and establish himself as a president. Immigration has been one area where he was evidently still trying to calibrate. After all, Mr. Trump was not always so strident on the issue. After the 2012 election, he denounced Mitt Romney for supporting what he called "self-deportation," calling it "a crazy policy" that cost Mr. Romney the Hispanic vote. The Democrats, he said then, did not have a policy "but what they did have going for them is they weren’t meanspirited about it."  The session with the television anchors started out as a nod to tradition by a president who has broken so many. Like his predecessors on the day of a State of the Union address, Mr. Trump hosted the journalists for what was supposed to be an unrecorded lunch to give them a sense of what he would tell Congress. But the conversation took a surprising turn when some of the anchors asked about his efforts to deport many of the estimated 11 million immigrants in the country illegally. Without being prompted, Mr. Trump then raised the idea of legislation, noting that there had not been any comprehensive law passed by Congress on the subject since Ronald Reagan’s amnesty program in the 1980s. He told the anchors it was time for a bill that would grant legal status to many of those in the country illegally as long as both sides compromised, similar to the legislation sought but never passed by George W. Bush and Barack Obama. Mr. Trump said he recognized that it would cause him political problems with his conservative base voters, according to people in the room, but added that he thought he could keep them happy since they had stuck with him throughout last year’s Republican primaries. When Mr. Trump offered the idea, he let the word "compromise" hang in the air, gauging the reaction. He then turned to Hope Hicks, his director of strategic communications, and suggested that the thought could be added to his speech. As Mr. Trump’s words settled over the State Dining Room, the president’s aides glanced at one another. They moved quickly to alert Mr. Bannon and Mr. Miller, two of the main keepers of Mr. Trump’s address before Congress. That the proposal did not ultimately make it into the speech may speak to the influence of Mr. Bannon’s wing. But the town was confused and off balance, just the way Mr. Trump likes it. 